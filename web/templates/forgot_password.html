{{template "layout.html" .}}

{{define "styles"}}
    {{/* --- Tailwind CSS, Google Fonts & Icons --- */}}
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?display=swap&family=Inter%3Awght%40400%3B500%3B700%3B900&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined">
    <style type="text/tailwindcss">
        :root {
            --primary-color: #13a4ec;
            --primary-color-hover: #1193d4;
            --background-color: #f8fafc;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --container-bg: #ffffff;
            --input-bg: #f1f5f9;
        }
        body {
            font-family: 'Inter', "Noto Sans", sans-serif;
        }
    </style>
{{end}}

{{define "scripts"}}
    {{/* No specific scripts needed for this page */}}
{{end}}

{{define "content"}}
<div class="relative flex min-h-screen w-full flex-col overflow-x-hidden bg-gray-50">
    <div class="flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-gray-200 bg-white px-10 py-4">
            <a href="/" class="flex items-center gap-3 text-gray-800">
                <svg class="h-8 w-8 text-[var(--primary-color)]" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6ZM24 38C16.268 38 10 31.732 10 24C10 16.268 16.268 10 24 10C31.732 10 38 16.268 38 24C38 31.732 31.732 38 24 38Z" fill="currentColor"></path>
                    <path d="M26 24H32V28H26V24Z" fill="currentColor" fill-opacity="0.5"></path>
                    <path d="M16 20H22V32H16V20Z" fill="currentColor"></path>
                </svg>
                <h2 class="text-xl font-bold leading-tight tracking-[-0.015em]">Internist AI</h2>
            </a>
            <div class="flex items-center gap-6">
                <a class="text-sm font-medium text-gray-600 hover:text-gray-900" href="#">Product</a>
                <a class="text-sm font-medium text-gray-600 hover:text-gray-900" href="#">Solutions</a>
                <a class="text-sm font-medium text-gray-600 hover:text-gray-900" href="#">Pricing</a>
                <a class="flex h-9 cursor-pointer items-center justify-center rounded-md bg-gray-100 px-4 text-sm font-semibold text-gray-700 transition-colors hover:bg-gray-200" href="/login">Log in</a>
                <a class="flex h-9 cursor-pointer items-center justify-center rounded-md bg-[var(--primary-color)] px-4 text-sm font-semibold text-white transition-colors hover:bg-[var(--primary-color-hover)]" href="/register">Sign Up</a>
            </div>
        </header>

        <main class="flex flex-1 items-center justify-center px-4 py-12 sm:px-6 lg:px-8">
            <div class="w-full max-w-md space-y-6 rounded-2xl bg-white p-8 shadow-lg">
                <div class="text-center">
                    <h2 class="text-3xl font-bold tracking-tight text-gray-900">Forgot your password?</h2>
                    <p class="mt-2 text-sm text-gray-600">Enter your phone number and we'll send you a reset code.</p>
                </div>
                
                {{/* Display error messages from the backend */}}
                {{if .Error}}
                <div class="rounded-md bg-red-50 p-3 text-center">
                    <p class="text-sm font-medium text-red-800">{{.Error}}</p>
                </div>
                {{end}}

                <form action="/forgot-password" class="space-y-6" method="POST">
                    <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
                    <div class="space-y-4 rounded-md">
                        <div>
                            <label class="sr-only" for="phone-number">Phone number</label>
                            <div class="relative">
                                <span class="material-symbols-outlined pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400">call</span>
                                <input id="phone-number" name="phone_number" type="tel" autocomplete="tel" required class="relative block w-full appearance-none rounded-md border border-gray-300 px-3 py-3 pl-10 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-[var(--primary-color)] focus:outline-none focus:ring-[var(--primary-color)] sm:text-sm" placeholder="Phone number"/>
                            </div>
                        </div>
                    </div>
                    <div>
                        <button type="submit" class="group relative flex w-full justify-center rounded-md border border-transparent bg-[var(--primary-color)] px-4 py-3 text-sm font-semibold text-white hover:bg-[var(--primary-color-hover)] focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] focus:ring-offset-2">
                            Send reset code
                        </button>
                    </div>
                </form>

                <div class="text-center text-sm">
                    <a class="font-medium text-[var(--primary-color)] hover:text-[var(--primary-color-hover)]" href="/login">Back to Log in</a>
                </div>
            </div>
        </main>
    </div>
</div>
{{end}}