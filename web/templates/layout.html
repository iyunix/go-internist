<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{if .Title}}{{.Title}}{{else}}Internist{{end}}</title>

    <!-- =========================
         Fonts
    ========================== -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link 
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" 
        rel="stylesheet"
    >

    <!-- =========================
         Styles
    ========================== -->
    <link rel="stylesheet" href="/static/css/main.css">
    {{block "styles" .}}{{end}}

    <!-- =========================
         Theme Handling
    ========================== -->
    <script>
      (function() {
        function applyTheme(theme) {
          document.documentElement.setAttribute("data-theme", theme);
        }

        const storedTheme = localStorage.getItem("theme");
        if (storedTheme) {
          applyTheme(storedTheme);
        } else {
          const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
          applyTheme(prefersDark ? "dark" : "light");
        }
      })();
    </script>

    <!-- =========================
         Alpine.js
    ========================== -->
    <script 
      defer 
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js">
    </script>
</head>
<body>
    <!-- =========================
         Page Content
    ========================== -->
    <main>
      {{block "content" .}}{{end}}
    </main>

    <!-- =========================
         Vendor + Custom Scripts
    ========================== -->
    <script src="/static/js/logger.js"></script>
    <script src="/static/js/vendor/marked.umd.js"></script>
    <script src="/static/js/vendor/purify.min.js"></script>
    <script src="/static/js/markdown_renderer.js"></script>

    {{block "scripts" .}}{{end}}
</body>
</html>
