@tailwind base;
@tailwind components;
@tailwind utilities;

/* Hero background image */
.hero-bg {
  background-image: url('/static/images/hero-background.jpg');
}

/* Chat animation styles */
.typing-indicator span { 
  display: inline-block; 
  width: 8px; 
  height: 8px; 
  border-radius: 50%; 
  background-color: currentColor; 
  animation: typing 1s infinite; 
}
.typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
.typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

@keyframes typing { 
  0%, 100% { transform: translateY(0); } 
  50% { transform: translateY(-4px); } 
}

/* Status indicators */
.status-item { 
  display: flex; 
  align-items: center; 
  gap: 0.75rem; 
  color: #64748b; 
  transition: color 0.3s ease-in-out; 
}
.status-item.completed { color: #1e293b; }

.status-icon .spinner { 
  width: 1rem; 
  height: 1rem; 
  border: 2px solid currentColor; 
  border-top-color: transparent; 
  border-radius: 50%; 
  animation: spin 1s linear infinite; 
}

@keyframes spin { 
  to { transform: rotate(360deg); } 
}

/* ðŸš€ PERFECTED CHAT BUBBLE SIZING - Fixed Version */
.message-content {
  /* Let the bubble grow with its content */
  width: fit-content;
  max-width: 80%; /* A sensible default max-width */
  overflow-wrap: break-word;
  word-break: break-word;
}

/* User messages - right aligned with proper width constraint */
.flex.items-start.justify-end .message-content {
  max-width: 70% !important;
  margin-left: auto !important;
  margin-right: 0 !important;
}

/* Assistant messages - left aligned with slightly wider constraint */  
.flex.items-start.gap-3 .message-content {
  max-width: 80% !important;
  margin-left: 0 !important;
  margin-right: auto !important;
}

/* Prose content within message bubbles */
.message-content .prose {
  max-width: 100%; /* Remove the prose max-width limit */
}

/* Force proper alignment for user message containers */
.flex.flex-col.items-end .message-content {
  margin-left: auto;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .message-content {
    max-width: 90%;
  }
}

@media (max-width: 480px) {
  .message-content {
    max-width: 95% !important;
  }
}

/* Smooth appearance animation */
.message-content {
  animation: messageAppear 0.2s ease-out;
}

@keyframes messageAppear {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (min-width: 640px) {
  #sidebar.collapsed {
    width: 4rem !important;
  }
  #sidebar.collapsed .sidebar-label {
    display: none !important;
  }
}